<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>全都是树 BST、AVL、RB、B、B+|数据结构Ⅲ.2 | SLie's Blog|琴弦之轮</title><meta name="author" content="Slie"><meta name="copyright" content="Slie"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="二叉排序树|Binary Sort&amp;#x2F;Search Tree 定义与性质 二叉排序树，也称二叉检索树、二叉搜索树、二叉查找树等。其英文缩写为 BST。 BST 是一棵空树或具有以下特征的二叉树：  若左子树非空，则左子树上所有的结点都小于根结点； 若右子树非空，则右子树上所有的结点都大于根结点； 左右"><link rel="shortcut icon" href="/img/%E7%A3%81%E5%B8%A6.png"><link rel="canonical" href="https://qslie.top/posts/31d7c1e5/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="/pluginsSrc/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"/search.xml",preload:!0,top_n_per_article:1,unescape:!1,languages:{hits_empty:"找不到您查询的内容：${query}",hits_stats:"共找到 ${hits} 篇文章"}},translate:void 0,noticeOutdate:{limitDay:90,position:"top",messagePrev:"本文章距离上次修改已经过了",messageNext:"天，相关内容可能不再适用，请留意."},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!0},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"mediumZoom",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#121212",position:"bottom-center"},source:{justifiedGallery:{js:"/pluginsSrc/flickr-justified-gallery/dist/fjGallery.min.js",css:"/pluginsSrc/flickr-justified-gallery/dist/fjGallery.css"}},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"全都是树 BST、AVL、RB、B、B+|数据结构Ⅲ.2",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2024-03-11 22:44:06"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})),e.getCSS=(e,t=!1)=>new Promise(((o,n)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=e,t&&(a.id=t),a.onerror=n,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,o())},document.head.appendChild(a)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/fixed_comment.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="/css/twikoo_beautify.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://s1.ax1x.com/2022/04/09/Likong.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">182</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">98</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">45</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i> <span>声影</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i> <span>相册</span></a></li><li><a class="site-page child" href="/films/"><i class="fa-fw fas fa-video"></i> <span>映像</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i> <span>图书</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i> <span>游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('http://img.49you.com/20170303/58b8d6f32d651.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="SLie's Blog|琴弦之轮"><span class="site-name">SLie's Blog|琴弦之轮</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i> <span>声影</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fas fa-images"></i> <span>相册</span></a></li><li><a class="site-page child" href="/films/"><i class="fa-fw fas fa-video"></i> <span>映像</span></a></li><li><a class="site-page child" href="/books/"><i class="fa-fw fas fa-book"></i> <span>图书</span></a></li><li><a class="site-page child" href="/games/"><i class="fa-fw fas fa-gamepad"></i> <span>游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">全都是树 BST、AVL、RB、B、B+|数据结构Ⅲ.2</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-08T16:55:03.000Z" title="发表于 2022-11-09 00:55:03">2022-11-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-03-11T14:44:06.533Z" title="更新于 2024-03-11 22:44:06">2024-03-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/">计算机科学与技术</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%E4%B8%8E%E6%8A%80%E6%9C%AF/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>27分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="全都是树 BST、AVL、RB、B、B+|数据结构Ⅲ.2"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><div class="top-img gist" style="background-image:url(http://img.49you.com/20170303/58b8d6f32d651.jpg)"></div><article class="post-content" id="article-container"><h1>二叉排序树|<sub>Binary Sort/Search Tree</sub></h1><h2 id="定义与性质">定义与性质</h2><p>二叉排序树，也称二叉检索树、二叉搜索树、二叉查找树等。其英文缩写为 <em><strong>BST</strong></em>。</p><p>BST 是一棵空树或具有以下特征的<strong>二叉树</strong>：</p><ol><li>若左子树非空，则左子树上所有的结点都小于根结点；</li><li>若右子树非空，则右子树上所有的结点都大于根结点；</li><li>左右子树也是一棵二叉排序树。</li></ol><div class="note default modern"><p>【经典错误】判断：二叉树为二叉排序树的<strong>充分必要条件</strong>是其任一结点的值均大于其左孩子的值、小于其右孩子的值</p><p>【答案解析】<strong>错误</strong> ！如下面这棵树所示。<br>5<br>/ \<br>3 6<br>\ /<br>8 2</p><p>这棵二叉树满足其任一结点的值均大于其左孩子的值，小于右孩子的值，但它并不是二叉排序树，因为在右支路中有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>&lt;</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">2\lt5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6835em;vertical-align:-.0391em"></span><span class="mord">2</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">5</span></span></span></span>，在左支路中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>&gt;</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">8\gt5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6835em;vertical-align:-.0391em"></span><span class="mord">8</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">5</span></span></span></span>。不满足二叉排序树的性质。</p></div><hr><p>BST 拥有以下几种常见的性质及其推导。</p><ol><li>最坏情况下，BST的深度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span>，此时是一棵单支树或斜二叉树；而理想情况下，深度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">⌉</mo></mrow><annotation encoding="application/x-tex">\lceil\log_2(n+1)\rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">⌈</span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)⌉</span></span></span></span> 也即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌊</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>n</mi><mo stretchy="false">⌋</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lfloor\log_2n\rfloor+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">⌊</span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">n</span><span class="mclose">⌋</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>.</li><li>在任意一棵非空二叉排序树中，删除某一个结点再将其插入，所得<strong>二叉排序树可能与原来不同！</strong> 比如删除的结点是分支结点时。</li><li>在任意一棵非空二叉排序树中，查找某一个结点时，所经过的关键字构成的序列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a_1,a_2,\cdots,a_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:.1667em"></span><span class="mspace" style="margin-right:.1667em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∀</mi><mi>i</mi><mo separator="true">,</mo><mtext>  </mtext><mi>i</mi><mo>∈</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">\forall i,\;i\in N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8889em;vertical-align:-.1944em"></span><span class="mord">∀</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.2778em"></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.10903em">N</span></span></span></span> 有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>j</mi></msub><mo>&gt;</mo><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext>  </mtext><mi>j</mi><mo>&gt;</mo><mi>i</mi></mrow><annotation encoding="application/x-tex">a_j\gt a_i,\;j\gt i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8252em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.854em;vertical-align:-.1944em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.2778em"></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.05724em">j</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span>，或<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>j</mi></msub><mo>&lt;</mo><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><mtext>  </mtext><mi>j</mi><mo>&gt;</mo><mi>i</mi></mrow><annotation encoding="application/x-tex">a_j\lt a_i,\;j\gt i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8252em;vertical-align:-.2861em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.854em;vertical-align:-.1944em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:0;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:.2778em"></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal" style="margin-right:.05724em">j</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span>. 即第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span> 个元素之后的所有元素均大于它或均小于它。</li><li></li></ol><hr><p>沿用我们在 <a href="https://qslie.top/posts/20ec17ac/"># 树与二叉树|数据结构Ⅲ</a> 一文中创建的 C++ 类模板。<br>此处，我们创建继承自二叉树基类的 BST：</p><h2 id="BST的查找">BST的查找</h2><p>对于二叉树的查找，很容易想到的做法就是按照一定规则遍历进行查找。</p><p>而由于二叉排序树的性质较为特殊，由此我们可以通过对根结点的比较来优化遍历查找的时间复杂度。（类似于二分法的思想）有：</p><ol><li>如果目标结点值 = 当前根结点值 则返回；</li><li>如果目标结点值 &lt; 当前根结点值，则在当前树的右子树中继续查找，反之亦然。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elementType</span>&gt; </span><br><span class="line">BinTree&lt;elementType&gt; *BinTree&lt;elementType&gt;::<span class="built_in">FindTree</span>(elementType x)&#123;</span><br><span class="line">    <span class="comment">// 非递归法查找结点</span></span><br><span class="line">    BinTree&lt;elementType&gt; *tree = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">while</span>((!tree-&gt;isNULL) &amp;&amp; (tree-&gt;root_data!=x))&#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt; tree-&gt;root_data)&#123;</span><br><span class="line">            tree = tree-&gt;left;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            tree = tree-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> tree;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="BST的插入">BST的插入</h2><p>二叉排序树作为动态树表，其特点是树的结构通常不是一次生成的，而是在查找过程中，当树中不存在与给定值相等的<code>key</code>值时才进行的插入。</p><p>插入结点的过程如下：</p><p><img src="BSTinsert.png" alt="BST的插入递归流程"></p><p>代码实现：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elementType</span>&gt;</span><br><span class="line"><span class="type">bool</span> BinTree&lt;elementType&gt;::<span class="built_in">BSTInsert</span>(elementType x)&#123;</span><br><span class="line">    <span class="comment">// 二叉排序树的插入</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;isNULL)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;root_data = x;</span><br><span class="line">        <span class="keyword">this</span>-&gt;isNULL = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;left  = <span class="keyword">new</span> <span class="built_in">BinTree</span>&lt;elementType&gt;();</span><br><span class="line">        <span class="keyword">this</span>-&gt;right = <span class="keyword">new</span> <span class="built_in">BinTree</span>&lt;elementType&gt;();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;root_data == x)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>-&gt;root_data &gt; x)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;left-&gt;<span class="built_in">BSTInsert</span>(x);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;right-&gt;<span class="built_in">BSTInsert</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="BST的创建">BST的创建</h2><p>二叉排序树的创建可以看作是<strong>一颗空树依次对一个个元素进行插入</strong>。</p><p>此处考虑通过传入函数的数据个数以及对应的数组进行依次插入从而实现二叉排序树的创建。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elementType</span>&gt;</span><br><span class="line"><span class="type">bool</span> BinTree&lt;elementType&gt;::<span class="built_in">createSortTree</span>(<span class="type">int</span> n, elementType args[])&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        二叉排序树的创建</span></span><br><span class="line"><span class="comment">        参数：n --节点个数</span></span><br><span class="line"><span class="comment">             args[] --节点的顺序输入数组</span></span><br><span class="line"><span class="comment">             EndFlag --自定义结束符</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">this</span>-&gt;isNULL = <span class="literal">true</span>;</span><br><span class="line">    <span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        flag = <span class="keyword">this</span>-&gt;<span class="built_in">BSTInsert</span>(args[i]);</span><br><span class="line">        <span class="keyword">this</span>-&gt;count ++;</span><br><span class="line">        <span class="keyword">if</span>(!flag)&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">this</span>-&gt;isNULL = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="BST的删除">BST的删除</h2><div class="note default modern"><p>注意：删除结点后必须保证树仍是<strong>二叉排序树</strong></p></div><p>根据BST的基本结构，可以梳理得到二叉排序树删除结点的基本<strong>算法</strong>：</p><ol><li><p>查找待删除结点（同时需要记录一下待删除结点的父结点）；</p></li><li><p>如果待删除结点为叶子结点，那么直接删除并不会影响BST结构，程序结束。</p></li><li><p>如果待删除结点左子树存在右子树不存在（或者左子树不存在右子树存在），说明只存在比该结点小（或者大）的子树，于是可以将其子树中存在的一边整体候补上来，程序结束。</p></li><li><p>如果待删除结点左右子树均存在，则需要按照BST的性质从其左子树（或者右子树）中选择键值最大（最小）的结点（例如右子树的中序序列第一个结点）补到待删除结点的位置才不会破坏结构。</p></li></ol><p>三种情况的示意图如下：</p><p><img src="BSTdelete.jpg" alt="BST的删除"></p><p>其中，对于第三种情况，因为涉及到了指针的使用，需要多加留意操作步骤：</p><p><img src="BSTdeleteNode.png" alt="BST删除结点的指针步骤"></p><p><strong>具体代码</strong>：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elementType</span>&gt; </span><br><span class="line"><span class="type">bool</span> BinTree&lt;elementType&gt;::<span class="built_in">DeleteBSTNode</span>(elementType x)&#123;</span><br><span class="line">    <span class="comment">//通过指定键值x对BST进行结点删除</span></span><br><span class="line">    BinTree&lt;elementType&gt; *front = <span class="keyword">this</span>,*tree = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">while</span>((!tree-&gt;isNULL) &amp;&amp; tree-&gt;root_data!=x)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x &lt; tree-&gt;root_data)&#123;</span><br><span class="line">            front = tree;</span><br><span class="line">            tree = tree-&gt;left;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            front = tree;</span><br><span class="line">            tree = tree-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="comment">//循环法查询目标结点，及其父结点</span></span><br><span class="line">    <span class="keyword">if</span>(tree-&gt;isNULL) <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//未找到目标结点则返回false</span></span><br><span class="line">    <span class="keyword">if</span>(tree-&gt;left-&gt;isNULL)&#123;</span><br><span class="line">        <span class="keyword">if</span>(front-&gt;left-&gt;root_data == x)&#123;</span><br><span class="line">            front-&gt;left = tree-&gt;right;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            front-&gt;right = tree-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        tree-&gt;right = <span class="keyword">new</span> <span class="built_in">BinTree</span>&lt;elementType&gt;();</span><br><span class="line">        <span class="keyword">delete</span> tree;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="comment">//情况1，只有右子树时，右子树上移，并释放目标结点</span></span><br><span class="line">    <span class="keyword">if</span>(tree-&gt;right-&gt;isNULL)&#123;</span><br><span class="line">        <span class="keyword">if</span>(front-&gt;left-&gt;root_data == x)&#123;</span><br><span class="line">            front-&gt;left = tree-&gt;left;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            front-&gt;right = tree-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        tree-&gt;left = <span class="keyword">new</span> <span class="built_in">BinTree</span>&lt;elementType&gt;();</span><br><span class="line">        <span class="keyword">delete</span> tree;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="comment">//情况2，只有左子树时，左子树上移，并释放目标结点</span></span><br><span class="line">    BinTree&lt;elementType&gt; *replacePaNode = tree-&gt;left-&gt;<span class="built_in">RightmostParent</span>();</span><br><span class="line">    <span class="keyword">if</span>(front-&gt;left-&gt;root_data == x)&#123;</span><br><span class="line">        front-&gt;left = replacePaNode-&gt;right;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        front-&gt;right = replacePaNode-&gt;right;</span><br><span class="line">    &#125;<span class="comment">//情况3，找到左子树最右结点并替换目标结点</span></span><br><span class="line">    replacePaNode-&gt;right-&gt;left = tree-&gt;left;</span><br><span class="line">    tree-&gt;left = <span class="keyword">new</span> <span class="built_in">BinTree</span>&lt;elementType&gt;();</span><br><span class="line">    replacePaNode-&gt;right-&gt;right = tree-&gt;right;</span><br><span class="line">    tree-&gt;right = <span class="keyword">new</span> <span class="built_in">BinTree</span>&lt;elementType&gt;();</span><br><span class="line">    <span class="keyword">delete</span> tree;</span><br><span class="line">    replacePaNode-&gt;right = <span class="keyword">new</span> <span class="built_in">BinTree</span>&lt;elementType&gt;();</span><br><span class="line">    <span class="comment">//更新指针域的指向，并删除目标结点</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">elementType</span>&gt; </span><br><span class="line">BinTree&lt;elementType&gt; *BinTree&lt;elementType&gt;::<span class="built_in">RightmostParent</span>()&#123;</span><br><span class="line">    <span class="comment">// 循环法 查找当前树的最右结点(一定是叶子结点)</span></span><br><span class="line">    <span class="comment">// 返回其父亲结点</span></span><br><span class="line">    BinTree&lt;elementType&gt; *tree = <span class="keyword">this</span>,*front = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">while</span>((!tree-&gt;isNULL) &amp;&amp; (!tree-&gt;right-&gt;isNULL))&#123;</span><br><span class="line">        front = tree;</span><br><span class="line">        tree = tree-&gt;right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> front;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note primary modern"><p>事实上，也可以不通过指针调整的方式实现非终端结点的删除。只需找到其中序后继或前驱结点后，<strong>将它们的数值进行交换</strong>，问题就转变成删除该后继结点了。此后继结点或是叶结点或是只有左子树或只有右子树的结点，删除之都比较方便，只需将其孩子结点往上替补即可。</p></div><h2 id="编程仿真">编程仿真</h2><p>此处将综合上述代码，整体集成到<code>bintree.h</code>和<code>bintree.cpp</code>文件中，用<code>C++</code>实现<emp>链式</emp>二叉排序树的以下操作：</p><details class="folding-tag" blue><summary>仿真要求清单</summary><div class="content"><ol><li>输入<strong>数据个数</strong> <code>DataCount</code>（要求在 10 和 20 之间）</li><li>输入<strong>数据最大值</strong> <code>MaxData</code>（在 50 和 100 之间）</li><li>在 <code>0</code> 和 <code>MaxData</code> 之间，随机产生 <code>DataCount</code> 个<strong>不重复的整数</strong>，按产生先后<strong>顺序</strong>形成一个数据序列，并输出该序列</li><li>利用上述数据序列，创建一个二叉排序树</li><li>统计该二叉<strong>树的高度</strong>并输出该二叉树的<strong>叶子节点</strong></li><li>中序遍历该二叉排序树，输出遍历序列，验证创建的二叉排序树 <strong>是否正确</strong></li></ol></div></details><h4 id="文件架构">文件架构</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── BinaryTree_src</span><br><span class="line">│   ├── bintree.cpp</span><br><span class="line">│   ├── bintree.h</span><br><span class="line">│   └── CMakeLists.txt</span><br><span class="line">├── CMakeLists.txt</span><br><span class="line">└── main.cpp</span><br></pre></td></tr></table></figure><h4 id="主函数">主函数</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;Graph_src/graph.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;Graph_src/graph.cpp&quot;</span> <span class="comment">//引入自写图库</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;BinaryTree_src/bintree.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;BinaryTree_src/bintree.cpp&quot;</span> <span class="comment">//引入自写二叉树库</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DataCount 20 <span class="comment">//宏定义最大数据个数</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxData 100 <span class="comment">//宏定义最大数据值</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> random(x) rand()%(x)+1 <span class="comment">//宏定义随机数生成函数</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">RandomNum</span><span class="params">(<span class="type">int</span> args[], <span class="type">int</span> count,<span class="type">int</span> data_max)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> args[DataCount];</span><br><span class="line">    <span class="built_in">memset</span>(args,<span class="number">-1</span>,DataCount);<span class="comment">//初始化</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>,data_max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(count &lt; <span class="number">10</span> || count &gt; <span class="number">20</span>)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入数据个数(10~20):&quot;</span>;</span><br><span class="line">        cin &gt;&gt; count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(data_max &lt; <span class="number">50</span> || data_max &gt; <span class="number">100</span>)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入数据最大值(50~100):&quot;</span>;</span><br><span class="line">        cin &gt;&gt; data_max;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">RandomNum</span>(args,count,data_max);<span class="comment">//生成随机数</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; count; i++)&#123;</span><br><span class="line">        cout &lt;&lt; args[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;<span class="comment">//输出</span></span><br><span class="line"></span><br><span class="line">    BinTree&lt;<span class="type">int</span>&gt;* BST = <span class="keyword">new</span> <span class="built_in">BinTree</span>&lt;<span class="type">int</span>&gt;();</span><br><span class="line">    BST-&gt;<span class="built_in">createSortTree</span>(count,args);<span class="comment">//创建排序树</span></span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;树的高度为：&quot;</span> &lt;&lt; BST-&gt;<span class="built_in">getHight</span>() &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;输出 二叉排序树(中序遍历)：&quot;</span> &lt;&lt; endl &lt;&lt; BST &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> res[DataCount] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> num = BST-&gt;<span class="built_in">getLeafNode</span>(res);</span><br><span class="line">    <span class="keyword">if</span>(num)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;输出 叶子节点：&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">            cout &lt;&lt; res[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"> 	BinTree&lt;<span class="type">int</span>&gt;* newBST = BST-&gt;<span class="built_in">CopyTree</span>();<span class="comment">//深度复制</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;输出 复制的树：&quot;</span> &lt;&lt; endl &lt;&lt; newBST &lt;&lt; endl;</span><br><span class="line">    <span class="type">int</span> select = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(select!=<span class="number">1</span> &amp;&amp; select!=<span class="number">2</span>)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入需要查找的树:(1.源树；2.复制树)&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cin &gt;&gt; select;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> x;cout &lt;&lt; <span class="string">&quot;请输入需要查找的节点数据：&quot;</span>;cin &gt;&gt; x;</span><br><span class="line">    BinTree&lt;<span class="type">int</span>&gt;* searchRes;</span><br><span class="line">    <span class="keyword">switch</span> (select)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:searchRes = BST-&gt;<span class="built_in">FindTree</span>(x);<span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:searchRes = newBST-&gt;<span class="built_in">FindTree</span>(x);<span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(searchRes-&gt;isNULL) cout &lt;&lt; <span class="string">&quot;[Error]目标树中没有该结点！&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span>&#123;<span class="built_in">printf</span>(<span class="string">&quot;找到目标结点：[地址: %p]\n&quot;</span>,searchRes);&#125; </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;请输入需要在副本中删除的节点数据：&quot;</span>;cin &gt;&gt; x;</span><br><span class="line">    <span class="keyword">if</span>(newBST-&gt;<span class="built_in">DeleteBSTNode</span>(x))</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;[Success]删除成功;当前副本中序遍历为：&quot;</span> &lt;&lt; newBST &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;[Error]删除失败.&quot;</span> &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; endl &lt;&lt;<span class="string">&quot;正在将二叉树转为邻接表……&quot;</span> &lt;&lt; endl;</span><br><span class="line">    ALGraph&lt;<span class="type">int</span>&gt;* graph = <span class="keyword">new</span> <span class="built_in">ALGraph</span>&lt;<span class="type">int</span>&gt;(BST);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;[Success]转换成功&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="type">int</span> res[MAXVEXMUN];</span><br><span class="line">    graph-&gt;<span class="built_in">TopSort</span>(res);</span><br><span class="line">    cout &lt;&lt; endl &lt;&lt;<span class="string">&quot;输出拓扑排序：&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; graph-&gt;VexNum; i++)&#123;</span><br><span class="line">        cout &lt;&lt; res[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">RandomNum</span><span class="params">(<span class="type">int</span> args[], <span class="type">int</span> count,<span class="type">int</span> data_max)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">srand</span>((<span class="type">unsigned</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="keyword">while</span>(i &lt; count)&#123;</span><br><span class="line">        <span class="type">int</span> j;</span><br><span class="line">        <span class="type">int</span> temp = <span class="built_in">random</span>(data_max);</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(args[j] == temp)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(j == i)</span><br><span class="line">            args[i++] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>平衡二叉树|<sub>Balanced Binary Tree</sub></h1><h2 id="定义与性质-2">定义与性质</h2><p>对于 BST 的查找来说，其查找效率随着创建时输入的元素顺序不同而有所不同。最坏情况下会形成一棵单支树，此时深度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>，平均查找长度也会降低。</p><p>为了避免 BST 高度增长过快的这种缺陷，我们规定在插入和删除结点时，还需<strong>保证：任意结点的左右子树高度差的绝对值不超过1</strong>。</p><p>我们称这样的二叉排序树为 <strong>平衡二叉树（Balanced Binary Tree）</strong>，简称平衡树。</p><p>此外，我们也称平衡二叉树为 <strong>AVL 树</strong>。<br>AVL 提出平衡二叉树的两位大学教授 G.M. Adelson-Velsky 和 E.M. Landis 名称的缩写。</p><p>平衡树是一棵空树或具有以下特征的<strong>二叉树</strong>：</p><ol><li>左右子树高度差的绝对值不超过1；</li><li>左右子树也是一棵平衡二叉树。</li></ol><h3 id="平衡因子-Balance-Factor-bf">平衡因子 |Balance Factor, bf</h3><p>定义 平衡因子（bf）：结点的左子树的深度减去右子树的深度。<br>即： <strong>结点的平衡因子 = 左子树的高度 - 右子树的高度</strong> 。</p><p><strong>在 AVL树中，所有节点的平衡因子都必须满足</strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn><mo>≤</mo><mi>b</mi><mi>f</mi><mo>≤</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1\leq bf\leq 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7804em;vertical-align:-.136em"></span><span class="mord">−</span><span class="mord">1</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8889em;vertical-align:-.1944em"></span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:.10764em">f</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>.</p><h3 id="相关性质">相关性质</h3><ol><li>若 AVL 的高度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal">h</span></span></span></span> ，平衡因子<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mi>f</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">bf=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8889em;vertical-align:-.1944em"></span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:.10764em">f</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>，则其结点总数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mi>h</mi></msub><mo>=</mo><msub><mi>N</mi><mrow><mi>h</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>N</mi><mrow><mi>h</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N_h=N_{h-1}+N_{h-2}+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8917em;vertical-align:-.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2083em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.8917em;vertical-align:-.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3361em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2083em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>，初始条件为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mn>0</mn></msub><mo>=</mo><mn>0</mn><mo separator="true">,</mo><msub><mi>N</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn><mo separator="true">,</mo><msub><mi>N</mi><mn>2</mn></msub><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">N_0=0,N_1=1,N_2=2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8778em;vertical-align:-.1944em"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8778em;vertical-align:-.1944em"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:-.109em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">2</span></span></span></span>. (这也是已知层数求<strong>最少</strong> AVL 结点的递推式)</li><li>含有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 个结点的平衡二叉树<strong>最大深度</strong>为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.02778em">O</span><span class="mopen">(</span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>，其平均查找长度也为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal" style="margin-right:.02778em">O</span><span class="mopen">(</span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.207em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>.</li><li>对 AVL 中序遍历若可得到一个降序序列，则树中<strong>最大元素一定无左子树</strong>。</li><li>在非空 AVL 树中删除某结点再插入回来得到的新树，<strong>无论该结点原本是不是叶结点</strong>，都有可能与原来不同。</li></ol><hr><h2 id="AVL的插入">AVL的插入</h2><p>当我们对 BST 进行插入（或删除）时，都有可能造成整棵树的不平衡，即平衡因子超出 AVL 定义范围的情况。所以，为了保证二叉树的平衡， AVL 树引入了所谓<strong>监督机制</strong>。即在树的某一部分发生不平衡度时触发相应的平衡操作，以保证树平衡因子维持原设。</p><p>接下来，我们将介绍出现不平衡时的 4 中情况，及其调整规律。</p><div class="note primary modern"><p>可点击进入 美国旧金山大学提供的 <a target="_blank" rel="noopener" href="https://www.cs.usfca.edu/~galles/visualization/AVLtree.html"># AVL树在线插入删除可视化网站</a> 更直观地感受 AVL 树</p></div><h3 id="LL-RR-型">LL &amp; RR 型</h3><p>LL型平衡问题，就是在根结点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 的左孩子（L）的左子树（L）插入了新结点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">u</span></span></span></span> ，导致整棵树失去平衡的情况。<br>如下图所示，解决此问题的方法是对整棵树进行 “右旋”操作。</p><p><strong>右旋</strong>：将左子树<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span> 往右上角移动，同时使得原来的根结点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 右下移动；于是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 退化为了<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span> 的右子树根结点，而<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span> 原本的右子树 (蓝色三角) 被<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 所继承为左子树。</p><p><img src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main//Auto/202211112025736.png" alt="LL型右旋"></p><p>而RR型平衡问题，就是在根结点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 的右孩子（R）的右子树（R）插入了新结点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">u</span></span></span></span> ，导致整棵树失去平衡的情况。<br>这与 LL型是完全对称的，为此我们需要进行<strong>左旋</strong>。</p><hr><h3 id="LR-RL-型">LR &amp; RL 型</h3><p>LR型平衡问题，就是在根结点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 的左孩子（L）结点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span> 的右孩子（R）结点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal" style="margin-right:.03148em">k</span></span></span></span> 中插入了新结点<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">u</span></span></span></span> ，导致整棵树失去平衡的情况。</p><p>如下图所示。可以 对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6595em"></span><span class="mord mathnormal">i</span></span></span></span> 进行左旋，再对<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 进行右旋，从而解决问题。</p><p><img src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main//Auto/202211112038510.png" alt="RL型先左后右旋"></p><p>同理，LR型这里不再赘述了。</p><h2 id="AVL的删除">AVL的删除</h2><p>AVL 的删除与插入类似，首先利用 BST 的算法删除结点，然后从该结点向上回溯，找到第一个不平衡的结点（即<strong>最小不平衡子树</strong>），对该子树进行和插入类似的平衡调整，若调整后继续往上回溯时还不平衡，则继续对当前的最小不平衡子树继续调整，该过程有可能回溯到根结点。</p><h2 id="AVL的创建">AVL的创建</h2><blockquote><p>待更</p></blockquote><h1>红黑树|<sub>Red–Black Tree</sub></h1><blockquote><p><a target="_blank" rel="noopener" href="https://www.tw.3822808.com/baike-%E7%BA%A2%E9%BB%91%E6%A0%91">https://www.tw.3822808.com/baike-红黑树</a></p></blockquote><h2 id="定义和性质">定义和性质</h2><ul><li>性质1：每个节点要么是黑色，要么是红色。</li><li>性质2：根节点是黑色。</li><li>性质3：每个叶子节点（NIL）是黑色。</li><li>性质4：每个红色结点的两个子结点一定都是黑色。</li><li><strong>性质5：任意一结点到每个叶子结点的路径都包含数量相同的黑结点。</strong></li></ul><div width="100%" style="overflow-x:auto;zoom:50%"><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="1343" height="658" id="svg2" sodipodi:version="0.32" inkscape:version="1.0.2-2 (e86c870879, 2021-01-15)" version="1.0" sodipodi:docname="Red-black tree example with NIL.svg" inkscape:output_extension="org.inkscape.output.svg.inkscape"><defs id="defs4"><marker inkscape:stockid="Arrow2Lend" orient="auto" refY="0" refX="0" id="Arrow2Lend" style="overflow:visible"><path id="path3088" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="M8.7185878 4.0337352-2.2072895.01601326 8.7185884-4.0017078c-1.7454984 2.3720609-1.7354408 5.6174519-6e-7 8.035443z" transform="matrix(-1.1,0,0,-1.1,-1.1,0)" inkscape:connector-curvature="0"/></marker></defs><sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" gridtolerance="10000" guidetolerance="10" objecttolerance="10" inkscape:pageopacity="0.0" inkscape:pageshadow="2" inkscape:zoom="0.4" inkscape:cx="723.24098" inkscape:cy="308" inkscape:document-units="px" inkscape:current-layer="layer6" width="1350px" height="650px" showgrid="true" inkscape:grid-points="true" inkscape:window-width="1345" inkscape:window-height="881" inkscape:window-x="14" inkscape:window-y="6" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:window-maximized="0" inkscape:document-rotation="0"/><metadata id="metadata7"><rdf:RDF><cc:Work rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"/><dc:title></dc:title></cc:Work></rdf:RDF></metadata><g inkscape:groupmode="layer" id="layer6" inkscape:label="NIL-corners" style="display:none" transform="translate(55,4.529953e-5)"><rect style="display:inline;opacity:1;fill:#aa0000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0" id="rect4744-6" width="18" height="18" x="1267" y="636.99994"/><rect style="display:inline;opacity:1;fill:#aa0000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0" id="rect4746-7" width="18" height="18" x="-52" y="2.9999547"/></g><g inkscape:groupmode="layer" id="layer8" inkscape:label="overlay-corners" style="display:none" sodipodi:insensitive="true" transform="translate(0,1.859665e-5)"><rect style="display:inline;fill:#aa0000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0" id="rect4744-6-9" width="18" height="18" x="1322" y="537"/><rect style="display:inline;fill:#aa0000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0" id="rect4746-7-9" width="18" height="18" x="3" y="3.0000057"/></g><g inkscape:groupmode="layer" id="layer4" inkscape:label="socket-corners" transform="translate(0,-0.99995469)" style="display:none" sodipodi:insensitive="true"><rect style="opacity:1;fill:#aa0000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0" id="rect4744" width="18" height="18" x="1268" y="538"/><rect style="opacity:1;fill:#aa0000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0" id="rect4746" width="18" height="18" x="58" y="4"/></g><g inkscape:groupmode="layer" id="layer7" inkscape:label="socketsR" style="display:none" sodipodi:insensitive="true" transform="translate(0,1.859665e-5)"><path inkscape:connector-curvature="0" id="path2934" d="m1010.7575 521.64707-.5964.36109 12.0528 12.35161.5886-.36731z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3134" d="m1255.7574 521.64707-.5964.36109 12.0529 12.35161.5885-.36731z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3340" d="m812.00743 380.64707-.59636.36109 12.05283 12.35161.58852-.36731z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3502" d="m274.25743 520.64707-.59636.36109 12.05283 12.35161.58852-.36731z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path2301" d="m495.28634 379.76695-.59636.36108 12.05288 12.3517.59636-.36731z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/></g><g inkscape:groupmode="layer" id="layer9" inkscape:label="socketsL" transform="translate(28)" style="display:none" sodipodi:insensitive="true"><path inkscape:connector-curvature="0" id="path3116" d="m916.21674 521.64423-12.05284 12.34539.59637.36731 12.04499-12.35161z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3136" d="m1161.2168 521.64423-12.0529 12.34539.5964.36731 12.045-12.35161z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3342" d="m717.46674 380.64423-12.05284 12.34539.59637.36731 12.04499-12.35161z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3504" d="m179.71674 520.64423-12.05284 12.34539.59637.36731 12.04499-12.35161z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path2308" d="m394.60876 380.82332-12.05284 12.34539.59637.36731 12.04499-12.35161z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path1063" d="m64.10876 380.82332-12.05284 12.34539.59637.36731 12.04499-12.35161z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:4;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/></g><g inkscape:groupmode="layer" id="layer2" inkscape:label="NIL-nodes" style="display:inline" transform="translate(0,-0.99995469)" sodipodi:insensitive="true"><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect2880" width="69.480904" height="42.230907" x="1016.2595" y="600.38452"/><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect2896" width="69.480904" height="42.230907" x="871.25952" y="600.38452"/><path inkscape:connector-curvature="0" id="path3700" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m1042.3784 562.47483 11.588 36.62647-32.5557-20.3937c9.7158-.23719 18.164-6.8196 20.9677-16.23277z"/><path inkscape:connector-curvature="0" id="path3708" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m933.65864 578.77173-32.55576 20.3937 11.588-36.62647c2.66352 9.34663 11.15239 15.87655 20.96776 16.23277z"/><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect3120" width="69.480904" height="42.230907" x="1261.2595" y="600.38452"/><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect3128" width="69.480904" height="42.230907" x="1116.2595" y="600.38452"/><path inkscape:connector-curvature="0" id="path3674" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m1287.3784 562.47483 11.588 36.62647-32.5558-20.39371c9.7159-.23719 18.1641-6.81959 20.9678-16.23276z"/><path inkscape:connector-curvature="0" id="path3682" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m1178.6586 578.77173-32.5557 20.3937 11.588-36.62647c2.6635 9.34663 11.1524 15.87655 20.9677 16.23277z"/><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect3326" width="69.480904" height="42.230907" x="817.50952" y="459.38455"/><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect3334" width="69.480904" height="42.230907" x="672.50952" y="459.38455"/><path inkscape:connector-curvature="0" id="path3650" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m843.62842 421.47483 11.588 36.62647-32.55576-20.3937c9.71584-.23719 18.16408-6.8196 20.96776-16.23277z"/><path inkscape:connector-curvature="0" id="path3642" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m734.90864 437.77173-32.55576 20.3937 11.588-36.62647c2.66352 9.34663 11.15239 15.87655 20.96776 16.23277z"/><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect3414" width="69.480904" height="42.230907" x="496.25955" y="459.38455"/><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect3422" width="69.480904" height="42.230907" x="351.25955" y="459.38455"/><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect3462" width="69.480904" height="42.230907" x="19.759546" y="453.38455"/><path inkscape:connector-curvature="0" id="path3594" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m82.15866 431.77173-32.55576 20.3937 11.588-36.62647c2.66352 9.34663 11.15239 15.87655 20.96776 16.23277z"/><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect3488" width="69.480904" height="42.230907" x="279.75955" y="599.38452"/><rect style="fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:2.76909;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="rect3496" width="69.480904" height="42.230907" x="134.75955" y="599.38452"/><path inkscape:connector-curvature="0" id="path3570" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m305.87842 561.47483 11.588 36.62647-32.55576-20.3937c9.71584-.23719 18.16408-6.8196 20.96776-16.23277z"/><path inkscape:connector-curvature="0" id="path3578" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m197.15864 577.77173-32.55576 20.3937 11.588-36.62647c2.66352 9.34663 11.15239 15.87655 20.96776 16.23277z"/><path inkscape:connector-curvature="0" id="path2303" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m526.89678 420.59561 11.58799 36.62647-32.55576-20.3937c9.71584-.23719 18.16408-6.8196 20.96777-16.23277z"/><path inkscape:connector-curvature="0" id="path2310" style="font-size:12px;fill-rule:evenodd;stroke-width:.625;stroke-linejoin:round" d="m412.05068 437.95082-32.55576 20.3937 11.588-36.62647c2.66352 9.34663 11.15239 15.87655 20.96776 16.23277z"/></g><g inkscape:groupmode="layer" id="layer11" inkscape:label="NIL-arrows" style="display:inline" sodipodi:insensitive="true" transform="translate(0,1.859665e-5)"><path inkscape:connector-curvature="0" id="path2934-9" d="m1004.6875 532.0938-2.375 1.8125 48 62 2.3438-1.84375z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3116-0" d="m950.3125 532.0938-48 61.96875 2.375 1.84375 47.96875-62z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3134-3" d="m1249.6875 532.0938-2.375 1.8125 48 62 2.3437-1.84375z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3136-2" d="m1195.3125 532.0938-48 61.96875 2.375 1.84375 47.9688-62z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3340-5" d="m805.9375 391.0938-2.375 1.8125 48 62 2.34375-1.84375z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3342-1" d="m751.5625 391.0938-48 61.96875 2.375 1.84375 47.96875-62z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3468" d="m98.8125 385.0938-48 61.96875 2.375 1.84375 47.96875-62z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3502-1" d="m268.1875 531.0938-2.375 1.8125 48 62 2.34375-1.84375z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path3504-8" d="m213.8125 531.0938-48 61.96875 2.375 1.84375 47.96875-62z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path2301-0" d="m489.20352 390.21515-2.375 1.8125 48 62 2.375-1.84375z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="path2308-2" d="m428.70452 391.27289-48 61.96875 2.375 1.84375 47.96875-62z" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/></g><g inkscape:groupmode="layer" id="layer5" inkscape:label="NIL-text" style="display:inline" transform="translate(55,4.529953e-5)"><g aria-label="NIL" id="text2882" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m975.39197 610.65845h3.65234l8.88916 16.77124v-16.77124h2.63184v20.0476h-3.65235l-8.88916-16.77124v16.77124h-2.63183z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1158"/><path d="m995.96326 610.65845h2.7124v20.0476h-2.7124z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1160"/><path d="m1004.0736 610.65845h2.7124v17.76489h9.762v2.28271h-12.4744z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1162"/></g><g aria-label="NIL" id="text2898" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m830.39197 610.65845h3.65234l8.88916 16.77124v-16.77124h2.63184v20.0476h-3.65235l-8.88916-16.77124v16.77124h-2.63183z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1151"/><path d="m850.96326 610.65845h2.7124v20.0476h-2.7124z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1153"/><path d="m859.07361 610.65845h2.7124v17.76489h9.76196v2.28271h-12.47436z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1155"/></g><g aria-label="NIL" id="text3122" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m1220.392 610.65845h3.6523l8.8892 16.77124v-16.77124h2.6318v20.0476h-3.6523l-8.8892-16.77124v16.77124h-2.6318z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1144"/><path d="m1240.9633 610.65845h2.7124v20.0476h-2.7124z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1146"/><path d="m1249.0736 610.65845h2.7124v17.76489h9.762v2.28271h-12.4744z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1148"/></g><g aria-label="NIL" id="text3130" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m1075.392 610.65845h3.6523l8.8892 16.77124v-16.77124h2.6318v20.0476h-3.6523l-8.8892-16.77124v16.77124h-2.6318z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1137"/><path d="m1095.9633 610.65845h2.7124v20.0476h-2.7124z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1139"/><path d="m1104.0736 610.65845h2.7124v17.76489h9.762v2.28271h-12.4744z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1141"/></g><g aria-label="NIL" id="text3328" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m776.64197 469.65845h3.65234l8.88916 16.77124v-16.77124h2.63184v20.0476h-3.65235l-8.88916-16.77124v16.77124h-2.63183z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1130"/><path d="m797.21326 469.65845h2.7124v20.0476h-2.7124z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1132"/><path d="m805.32361 469.65845h2.7124v17.76489h9.76196v2.28271h-12.47436z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1134"/></g><g aria-label="NIL" id="text3336" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m631.64197 469.65845h3.65234l8.88916 16.77124v-16.77124h2.63184v20.0476h-3.65235l-8.88916-16.77124v16.77124h-2.63183z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1123"/><path d="m652.21326 469.65845h2.7124v20.0476h-2.7124z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1125"/><path d="m660.32361 469.65845h2.7124v17.76489h9.76196v2.28271h-12.47436z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1127"/></g><g aria-label="NIL" id="text3416" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m455.39197 469.65845h3.65234l8.88916 16.77124v-16.77124h2.63184v20.0476h-3.65235l-8.88916-16.77124v16.77124h-2.63183z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1116"/><path d="m475.96326 469.65845h2.7124v20.0476h-2.7124z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1118"/><path d="m484.07361 469.65845h2.7124v17.76489h9.76196v2.28271h-12.47436z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1120"/></g><g aria-label="NIL" id="text3424" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m310.39197 469.65845h3.65234l8.88916 16.77124v-16.77124h2.63184v20.0476h-3.65235l-8.88916-16.77124v16.77124h-2.63183z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1109"/><path d="m330.96326 469.65845h2.7124v20.0476h-2.7124z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1111"/><path d="m339.07361 469.65845h2.7124v17.76489h9.76196v2.28271h-12.47436z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1113"/></g><g aria-label="NIL" id="text3464" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m-21.108032 463.65845h3.652344l8.8891602 16.77124v-16.77124h2.6318359v20.0476h-3.6523438l-8.8891603-16.77124v16.77124h-2.631836z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1102"/><path d="M-.53674269 463.65845H2.1756597v20.0476h-2.71240239z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1104"/><path d="m7.5736089 463.65845h2.7124021v17.76489h9.761963v2.28271H7.5736089Z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1106"/></g><g aria-label="NIL" id="text3490" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m238.89197 609.65845h3.65234l8.88916 16.77124v-16.77124h2.63184v20.0476h-3.65235l-8.88916-16.77124v16.77124h-2.63183z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1095"/><path d="m259.46326 609.65845h2.7124v20.0476h-2.7124z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1097"/><path d="m267.57361 609.65845h2.7124v17.76489h9.76196v2.28271h-12.47436z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1099"/></g><g aria-label="NIL" id="text3498" style="font-style:normal;font-weight:400;line-height:0;font-family:'Bitstream Vera Sans';text-align:center;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m93.891975 609.65845h3.652344l8.889161 16.77124v-16.77124h2.63184v20.0476h-3.65235l-8.889159-16.77124v16.77124h-2.631836z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1088"/><path d="m114.46326 609.65845h2.71241v20.0476h-2.71241z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1090"/><path d="m122.57362 609.65845h2.7124v17.76489h9.76196v2.28271h-12.47436z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:27.5px;line-height:125%;font-family:'Bitstream Vera Sans';text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1092"/></g></g><g inkscape:label="tree" inkscape:groupmode="layer" id="layer1" transform="translate(281.5,-61.999956)" style="display:inline" sodipodi:insensitive="true"><g id="g3660" style="fill:#000000;stroke:#000000;stroke-width:.8;stroke-miterlimit:4;stroke-dasharray:none"><path style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M855.03125 448.125 852.75 450.0625 903.9375 509.96875 906.21875 508Z" id="path3227" inkscape:connector-curvature="0"/><path d="m894.35649 475.95346 13.34306 36.02421-33.50254-18.7979c9.69306-.70607 17.8136-7.68874 20.15948-17.22631z" style="font-size:12px;fill:#000000;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" id="path3666" inkscape:connector-curvature="0"/></g><g id="g3580" transform="rotate(-3.0000002,-97.828162,480.09719)" style="fill:#000000;stroke:#000000;stroke-width:.8;stroke-miterlimit:4;stroke-dasharray:none"><path style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m-121.28125 447.09375-2.375 1.8125 48 62 2.375-1.84375z" id="path3484" inkscape:connector-curvature="0"/><path d="m-83.587996 476.47426 11.587993 36.62647-32.555757-20.3937c9.715843-.23719 18.164079-6.8196 20.967764-16.23277z" style="font-size:12px;fill:#000000;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" id="path3586" inkscape:connector-curvature="0"/></g><g id="g3596" style="fill:#000000;stroke:#000000;stroke-width:.8;stroke-miterlimit:4;stroke-dasharray:none" transform="rotate(2,-131.07793,391.97313)"><path style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m-34.03125 293.90625-82.03125 76 2.03125 2.21875 82.0625-76.03125z" id="path3536" inkscape:connector-curvature="0"/><path d="m-82.463845 358.98387-35.458135 14.78175 17.43463-34.23175c1.09551 9.65679 8.39927 17.48979 18.023505 19.45z" style="font-size:12px;fill:#000000;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" id="path3602" inkscape:connector-curvature="0"/></g><g id="g3604" style="fill:#000000;stroke:#000000;stroke-width:.8;stroke-miterlimit:4;stroke-dasharray:none"><path style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m54.96875 293.90625-2.03125 2.1875 82.03125 76.03125 2.0625-2.21875z" id="path3538" inkscape:connector-curvature="0"/><path d="m121.52357 339.45635 17.43462 34.23175-35.45813-14.78175c9.54556-1.82648 16.80063-9.7046 18.02351-19.45z" style="font-size:12px;fill:#000000;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" id="path3610" inkscape:connector-curvature="0"/></g><g id="g3628" style="fill:#000000;stroke:#000000;stroke-width:.8;stroke-miterlimit:4;stroke-dasharray:none"><path style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m615.03125 293.90625-82.0625 76 2.0625 2.21875 82.03125-76.03125z" id="path3540" inkscape:connector-curvature="0"/><path d="m566.57178 358.98387-35.45814 14.78175 17.43463-34.23175c1.09551 9.65679 8.39927 17.48979 18.02351 19.45z" style="font-size:12px;fill:#000000;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" id="path3634" inkscape:connector-curvature="0"/></g><g id="g3652" style="fill:#000000;stroke:#000000;stroke-width:.8;stroke-miterlimit:4;stroke-dasharray:none"><path style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m702.03125 293.90625-2.0625 2.1875 82.0625 76.03125 2.03125-2.21875z" id="path3542" inkscape:connector-curvature="0"/><path d="m768.55919 339.45634 17.43462 34.23176-35.45813-14.78175c9.54556-1.82648 16.80063-9.7046 18.02351-19.45001z" style="font-size:12px;fill:#000000;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" id="path3658" inkscape:connector-curvature="0"/></g><g id="g3612" style="fill:#000000;stroke:#000000;stroke-width:.8;stroke-miterlimit:4;stroke-dasharray:none"><path style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M287.46875 146.5625 56.5 238.59375l1.125 2.8125 230.96875-92.03125z" id="path3550" inkscape:connector-curvature="0"/><path d="m91.778492 240.49428-38.402087 1.02876 28.587085-25.66237c-2.453647 9.4039 1.541314 19.34075 9.815002 24.63361z" style="font-size:12px;fill:#000000;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" id="path3618" inkscape:connector-curvature="0"/></g><g id="g3620" style="fill:#000000;stroke:#000000;stroke-width:.8;stroke-miterlimit:4;stroke-dasharray:none"><path style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m382.53125 147.59375-1.09375 2.78125 227.8125 91.03125 1.09375-2.8125z" id="path3552" inkscape:connector-curvature="0"/><path d="m584.94928 215.73984 28.56304 25.68913-38.40111-1.06472c8.25323-5.13205 12.19586-15.08978 9.83807-24.62441z" style="font-size:12px;fill:#000000;fill-rule:evenodd;stroke:#000000;stroke-width:.8;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" id="path3626" inkscape:connector-curvature="0"/></g><g id="g2312" transform="matrix(1.0653944,0.05583496,-0.05544765,1.0580043,108.18912,-218.288)" style="fill:#000000;stroke:#000000;stroke-width:.752481;stroke-miterlimit:4;stroke-dasharray:none"><path style="fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:.752481;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="m668.8125 594.09375-48 61.96875 2.375 1.84375 47.96875-62z" id="path2314" inkscape:connector-curvature="0"/><path d="m652.15864 639.77173-32.55576 20.3937 11.588-36.62647c2.66352 9.34663 11.15239 15.87655 20.96776 16.23277z" style="font-size:12px;fill:#000000;fill-rule:evenodd;stroke:#000000;stroke-width:.752481;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none" id="path2316" inkscape:connector-curvature="0"/></g></g><g inkscape:groupmode="layer" id="layer10" inkscape:label="nodes" transform="translate(28)" sodipodi:insensitive="true"><circle r="50" cy="66.500053" cx="588.8125" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="path1874"/><circle r="50" cy="206.50005" cx="912.375" style="display:inline;fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="path2805"/><circle r="50" cy="489.50006" cx="949" style="display:inline;fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="path2853"/><circle r="50" cy="206.50005" cx="265.25" style="display:inline;fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="path2789"/><circle r="50" cy="349.50006" cx="100" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="path2813"/><circle r="50" cy="349.50006" cx="1073" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="path2837"/><circle r="50" cy="489.50006" cx="214" style="display:inline;fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="path2845"/><circle r="50" cy="489.50006" cx="1194.5" style="display:inline;fill:#ff0000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="path2861"/><circle r="50" cy="349.50006" cx="751.75" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="path2829"/><circle r="50" cy="349.50006" cx="430.5" style="display:inline;fill:#000000;fill-opacity:1;fill-rule:nonzero;stroke:#000000;stroke-width:5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:10;stroke-opacity:1" id="path3406"/></g><g inkscape:groupmode="layer" id="layer3" inkscape:label="RB-text" style="display:inline" transform="translate(0,-0.99995469)"><g aria-label="8" id="text2791" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:0;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m287.14323 204.26954q-2.91666-1.0677-4.32291-3.04687-1.40625-1.97917-1.40625-4.73958 0-4.16666 2.99479-7.0052 2.99479-2.83854 7.96874-2.83854 5 0 8.04687 2.91666 3.04688 2.89062 3.04688 7.05729 0 2.65625-1.40625 4.63541-1.38021 1.95313-4.21875 3.02083 3.51562 1.14584 5.33854 3.69792 1.84896 2.55208 1.84896 6.09374 0 4.89583-3.46354 8.22917-3.46354 3.33333-9.11458 3.33333-5.65104 0-9.11458-3.33333-3.46354-3.35938-3.46354-8.35937 0-3.72396 1.875-6.22396 1.90104-2.52604 5.39062-3.4375zm-.9375-7.9427q0 2.70833 1.74479 4.42708 1.74479 1.71875 4.53125 1.71875 2.70833 0 4.42708-1.69271 1.74479-1.71875 1.74479-4.1927 0-2.57813-1.79687-4.32292-1.77083-1.77083-4.42708-1.77083-2.68229 0-4.45312 1.71875-1.77084 1.71875-1.77084 4.11458zm-1.51041 17.6302q0 2.0052.9375 3.8802.96354 1.875 2.83854 2.91667 1.875 1.01562 4.03645 1.01562 3.35938 0 5.54687-2.16145 2.1875-2.16146 2.1875-5.49479 0-3.38542-2.26562-5.59896-2.23958-2.21354-5.625-2.21354-3.30729 0-5.49479 2.1875-2.16145 2.1875-2.16145 5.46875z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1085"/></g><g aria-label="1" id="text2815" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:0;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m132.33594 367.97266h-4.6875v-29.86978q-1.6927 1.61458-4.45312 3.22917-2.73437 1.61458-4.92187 2.42187v-4.53125q3.93229-1.84895 6.875-4.47916 2.9427-2.63021 4.16666-5.10416h3.02083z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1082"/></g><g aria-label="25" id="text2839" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:0;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m1097.4844 363.46745v4.50521H1072.25q-.052-1.69271.5469-3.25521.9635-2.57812 3.0729-5.07812 2.1354-2.5 6.1458-5.78125 6.224-5.10416 8.4115-8.07291 2.1875-2.99479 2.1875-5.65104 0-2.78646-2.0052-4.6875-1.9792-1.92708-5.1823-1.92708-3.3854 0-5.4167 2.03125-2.0312 2.03125-2.0573 5.625l-4.8177-.49479q.4948-5.39063 3.724-8.20312 3.2292-2.83854 8.6719-2.83854 5.4947 0 8.6979 3.04687 3.2031 3.04687 3.2031 7.55208 0 2.29166-.9375 4.5052-.9375 2.21354-3.125 4.66146-2.1615 2.44791-7.2135 6.71874-4.2188 3.54167-5.4167 4.81771-1.1979 1.25-1.9792 2.52604z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1077"/><path d="m1102.5104 357.97266 4.9219-.41666q.5469 3.59374 2.526 5.41666 2.0052 1.79687 4.8177 1.79687 3.3854 0 5.7292-2.55208 2.3437-2.55208 2.3437-6.77083 0-4.01041-2.2656-6.32812-2.2396-2.31771-5.8854-2.31771-2.2656 0-4.0885 1.04167-1.8229 1.01562-2.8646 2.65625l-4.4011-.57292 3.698-19.60936h18.9843v4.47916h-15.2343l-2.0573 10.26041q3.4375-2.39583 7.2135-2.39583 5 0 8.4375 3.46354 3.4375 3.46354 3.4375 8.90625 0 5.18228-3.0208 8.95832-3.6719 4.63542-10.0261 4.63542-5.2083 0-8.5156-2.91667-3.2812-2.91666-3.75-7.73437z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1079"/></g><g aria-label="6" id="text2847" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:0;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m253.0026 479.14455-4.66146.36458q-.625-2.76041-1.77083-4.01041-1.90104-2.00521-4.6875-2.00521-2.23958 0-3.93229 1.25-2.21354 1.61458-3.48958 4.71354-1.27604 3.09895-1.32812 8.82812 1.6927-2.57813 4.14062-3.82812 2.44792-1.25 5.13021-1.25 4.68749 0 7.96874 3.46354 3.30729 3.43749 3.30729 8.90624 0 3.59375-1.5625 6.6927-1.53646 3.07292-4.24479 4.71354-2.70833 1.64063-6.14583 1.64063-5.85937 0-9.55728-4.29687-3.69792-4.32292-3.69792-14.21875 0-11.0677 4.08854-16.09374 3.56771-4.37499 9.60937-4.37499 4.50521 0 7.36979 2.52604 2.89062 2.52604 3.46354 6.97916zm-19.14062 16.45832q0 2.42188 1.01563 4.63542 1.04166 2.21354 2.89062 3.38541 1.84896 1.14583 3.88021 1.14583 2.96875 0 5.10416-2.39583 2.13542-2.39583 2.13542-6.51041 0-3.95833-2.10938-6.22396-2.10937-2.29166-5.31249-2.29166-3.17709 0-5.39063 2.29166-2.21354 2.26563-2.21354 5.96354z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1074"/></g><g aria-label="27" id="text2863" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:0;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m1218.9844 503.46745v4.50521H1193.75q-.052-1.69271.5469-3.25521.9635-2.57812 3.0729-5.07812 2.1354-2.5 6.1458-5.78125 6.224-5.10416 8.4115-8.07291 2.1875-2.99479 2.1875-5.65104 0-2.78646-2.0052-4.6875-1.9792-1.92708-5.1823-1.92708-3.3854 0-5.4167 2.03125-2.0312 2.03125-2.0573 5.625l-4.8177-.49479q.4948-5.39063 3.724-8.20312 3.2292-2.83854 8.6719-2.83854 5.4947 0 8.6979 3.04687 3.2031 3.04687 3.2031 7.55208 0 2.29166-.9375 4.5052-.9375 2.21354-3.125 4.66146-2.1615 2.44791-7.2135 6.71874-4.2188 3.54167-5.4167 4.81771-1.1979 1.25-1.9792 2.52604z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1069"/><path d="m1224.3229 474.79559v-4.5052h24.7135v3.64583q-3.6458 3.8802-7.2395 10.31249-3.5677 6.43229-5.5209 13.22916-1.4062 4.79166-1.7968 10.49479h-4.8177q.078-4.50521 1.7708-10.88541 1.6927-6.38021 4.8437-12.29166 3.1771-5.9375 6.7448-10z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1071"/></g><g aria-label="15" id="text2831" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:0;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m769.25521 367.97266h-4.68749v-29.86978q-1.69271 1.61458-4.45313 3.22917-2.73437 1.61458-4.92187 2.42187v-4.53125q3.93229-1.84895 6.875-4.47916 2.94271-2.63021 4.16666-5.10416h3.02083z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1064"/><path d="m781.26041 357.97266 4.92188-.41666q.54687 3.59374 2.52604 5.41666 2.0052 1.79687 4.8177 1.79687 3.38542 0 5.72917-2.55208 2.34374-2.55208 2.34374-6.77083 0-4.01041-2.26562-6.32812-2.23958-2.31771-5.88541-2.31771-2.26563 0-4.08854 1.04167-1.82292 1.01562-2.86458 2.65625l-4.40104-.57292 3.69791-19.60936h18.98437v4.47916h-15.23437l-2.05729 10.26041q3.4375-2.39583 7.21354-2.39583 4.99999 0 8.43749 3.46354 3.4375 3.46354 3.4375 8.90625 0 5.18228-3.02083 8.95832-3.67187 4.63542-10.02604 4.63542-5.20833 0-8.51562-2.91667-3.28125-2.91666-3.75-7.73437z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1066"/></g><g aria-label="11" id="text3408" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:0;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m449.98438 367.97266h-4.6875v-29.86978q-1.6927 1.61458-4.45312 3.22917-2.73437 1.61458-4.92187 2.42187v-4.53125q3.93229-1.84895 6.87499-4.47916 2.94271-2.63021 4.16667-5.10416h3.02083z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1059"/><path d="m475.68749 367.97266h-4.6875v-29.86978q-1.69271 1.61458-4.45312 3.22917-2.73437 1.61458-4.92187 2.42187v-4.53125q3.93229-1.84895 6.87499-4.47916 2.94271-2.63021 4.16667-5.10416h3.02083z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1061"/></g><g aria-label="22" id="text2855" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:0;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m973.48438 503.46745v4.50521h-25.23436q-.0521-1.69271.54687-3.25521.96354-2.57812 3.07292-5.07812 2.13541-2.5 6.14583-5.78125 6.22395-5.10416 8.41145-8.07291 2.1875-2.99479 2.1875-5.65104 0-2.78646-2.00521-4.6875-1.97916-1.92708-5.18229-1.92708-3.38541 0-5.41666 2.03125-2.03125 2.03125-2.05729 5.625l-4.81771-.49479q.49479-5.39063 3.72396-8.20312 3.22916-2.83854 8.67187-2.83854 5.49479 0 8.69791 3.04687 3.20312 3.04687 3.20312 7.55208 0 2.29166-.9375 4.5052-.9375 2.21354-3.12499 4.66146-2.16146 2.44791-7.21354 6.71874-4.21875 3.54167-5.41667 4.81771-1.19791 1.25-1.97916 2.52604z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1054"/><path d="m1003.1458 503.46745v4.50521h-25.23434q-.0521-1.69271.54687-3.25521.96354-2.57812 3.07292-5.07812 2.13541-2.5 6.14583-5.78125 6.22395-5.10416 8.41145-8.07291 2.1875-2.99479 2.1875-5.65104 0-2.78646-2.00521-4.6875-1.97916-1.92708-5.18229-1.92708-3.38541 0-5.41666 2.03125-2.03125 2.03125-2.05729 5.625l-4.81771-.49479q.49479-5.39063 3.72396-8.20312 3.22916-2.83854 8.67187-2.83854 5.49479 0 8.69791 3.04687 3.20309 3.04687 3.20309 7.55208 0 2.29166-.9375 4.5052-.9375 2.21354-3.12496 4.66146-2.16146 2.44791-7.21354 6.71874-4.21875 3.54167-5.41667 4.81771-1.19791 1.25-1.97916 2.52604z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1056"/></g><g aria-label="17" id="text2807" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:0;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m929.88021 224.97266h-4.68749v-29.86978q-1.69271 1.61458-4.45313 3.22917-2.73437 1.61458-4.92187 2.42187v-4.53125q3.93229-1.84895 6.875-4.47916 2.94271-2.63021 4.16666-5.10416h3.02083z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1049"/><path d="m942.19791 191.79559v-4.5052h24.71353v3.64583q-3.64583 3.8802-7.23958 10.31249-3.5677 6.43229-5.52083 13.22916-1.40625 4.79166-1.79687 10.49479h-4.81771q.0781-4.50521 1.77084-10.88541 1.6927-6.38021 4.84374-12.29166 3.17708-5.9375 6.74479-10z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1051"/></g><g aria-label="13" id="text2762" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:0;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"><path d="m606.31771 84.972656h-4.68749V55.102882q-1.69271 1.614583-4.45313 3.229165-2.73437 1.614583-4.92187 2.421874v-4.531248q3.93229-1.848957 6.875-4.479164 2.94271-2.630206 4.16666-5.104163h3.02083z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1044"/><path d="m618.34896 74.894537 4.68749-.624999q.80729 3.984372 2.73438 5.755205 1.95312 1.74479 4.73958 1.74479 3.30729 0 5.57291-2.291665 2.29167-2.291665 2.29167-5.67708 0-3.229165-2.10938-5.312497-2.10937-2.109374-5.36458-2.109374-1.32812 0-3.30729.520833l.52084-4.114581q.46875.05208.7552.05208 2.99479 0 5.39063-1.562499 2.39583-1.562499 2.39583-4.817706 0-2.578123-1.74479-4.270831-1.74479-1.692707-4.50521-1.692707-2.73437 0-4.55729 1.718749-1.82291 1.718749-2.34375 5.156247l-4.68749-.833333q.85937-4.713539 3.90624-7.291662 3.04688-2.604165 7.57812-2.604165 3.125 0 5.75521 1.354166 2.63021 1.328124 4.01041 3.645831 1.40625 2.317707 1.40625 4.921872 0 2.473957-1.32812 4.505205-1.32813 2.031249-3.93229 3.229165 3.38541.78125 5.26041 3.255207 1.875 2.447915 1.875 6.145829 0 4.999997-3.64583 8.489579-3.64583 3.463539-9.21874 3.463539-5.02604 0-8.35937-2.99479-3.30729-2.99479-3.77604-7.760412z" style="font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:53.3333px;line-height:125%;font-family:Arial;-inkscape-font-specification:Arial;text-align:center;writing-mode:lr-tb;text-anchor:middle;fill:#ffffff;fill-opacity:1" id="path1046"/></g></g></svg></div><hr><p>此外还有其他性质，如下：</p><blockquote><p>♾️如果红黑树的<strong>所有结点都是黑色</strong>，则它一定是一棵<strong>满二叉树</strong></p></blockquote><h2 id="RB树的插入">RB树的插入</h2><p>插入结点默认是红色。</p><ol><li>如果父结点是黑色，无需处理。</li><li>如果插入结点前为空树，插入结点自己就是树的根结点，则改为黑色，结束。</li><li>如果父结点是红色，并且叔结点是黑色，但插入结点是右孩子，则插入结点左旋，即变为情况4。</li><li>如果父结点是红色，并且叔结点是黑色，但插入结点是左孩子，则父结点和爷结点交换颜色，并右旋，结束。</li><li>如果父结点是红色，并且叔结点是红色，则父结点、叔结点的红色变黑色，爷结点变红色，此时爷结点作为新的插入结点往上推两层。</li></ol><div class="note primary modern"><p>可点击进入 美国旧金山大学提供的 <a target="_blank" rel="noopener" href="https://www.cs.usfca.edu/~galles/visualization/RedBlack.html"># 红黑树在线插入删除可视化网站</a> 更直观地感受 RB 树</p></div><h2 id="RB树的删除">RB树的删除</h2><p>待删结点只有右孩子或只有左孩子，其孩子必然是红色（否则违反了性质5），此时直接当孩子着色为黑色，替补自己即可。</p><p>待删结点没有孩子，且自己是红色，则可直接删除。<br>待删结点没有孩子，但自己是黑色，需将自己的虚拟子结点（黑色）代替自己的位置，并且将其附上双重黑色，变为<strong>双黑结点</strong>，并在后续几种情况中消去双黑属性。</p><ol><li>兄弟结点是红色，则将兄弟结点与父结点换色，并对父结点左旋。这样可以让新的兄弟结点变为黑色。即变为了情况2。</li><li>兄弟结点是黑色，并且兄弟结点的孩子左红右黑，则交换兄弟结点和其左孩子的颜色，然后兄弟结点右旋，这样可以使得新的兄弟结点右孩子是红色。即变为了情况3。</li><li>兄弟结点是黑色，并且兄弟结点的孩子右孩子为红色，则交换兄弟结点和父结点的颜色，兄弟结点的右孩子变黑，然后父结点左旋。此时双黑结点退化为一重黑，完成修正。</li><li>兄弟结点是黑色，并且兄弟结点的孩子均为黑色，则双黑结点与其兄弟结点同时退化一重黑色，双黑结点变为黑色结点，兄弟结点变为红色结点，然后将父结点套上一层黑色，把父结点作为新的待调整结点，往上一层推。</li></ol><h1>B &amp; B+树|<sub>B-Tree &amp; B+Tree</sub></h1><div class="note info simple"><p>注意：<strong>B树</strong>的英文名是 <code>B-Tree</code>，因此也有翻译将B树称为 “B-树”，而其中的 <code>-</code> 符号属于连接符，而不是“减号”，与 B+树中的 <code>+</code> 号不做对应，也不读作“B减树”！</p></div><h2 id="B树的定义">B树的定义</h2><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树，又称<strong>多路平衡查找树</strong>，B 树中所有结点的孩子个数的最大值称为 B 树的<strong>阶</strong>，通常用<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 表示。</p><p>一棵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树或为空树，或为满足如下特性的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 叉树：</p><ol><li>树中每个结点至多有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 棵子树，即<strong>至多</strong>含有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span> 个关键字</li><li><strong>若根结点不是终端结点，则至少有两棵子树</strong></li><li><strong>除根结点外</strong>的所有非叶结点至少有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo></mrow><annotation encoding="application/x-tex">\lceil m/2\rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span></span></span></span> 棵子树，即<strong>至少</strong>含有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lceil m/2\rceil-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span> 个关键字，<strong>根结点若不是叶结点，则至少有 2 棵子树</strong></li><li><strong>所有的叶结点都出现在同一层次上</strong>，并且不带信息（可以视为外部结点或类似于折半查找判定树的查找失败结点，实际上这些结点不存在，指向这些结点的指针为空）</li><li>所有非叶结点的结构如下：</li></ol><p><img src="https://pic2.zhimg.com/80/v2-7658d5d1799bc71a36fc3ed5f82b3a5d_720w.webp" alt="B树的终端结点结构"></p><p>其中，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>i</mi></msub><mspace width="1em"><mo stretchy="false">(</mo><mi>i</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">K_i\quad ( i = 1, ... ,n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 为结点的关键字，且满足<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mn>1</mn></msub><mo>&lt;</mo><msub><mi>K</mi><mn>2</mn></msub><mo>&lt;</mo><mo>⋯</mo><mo>&lt;</mo><msub><mi>K</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">K_1 \lt K_2 \lt \cdots \lt K_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3011em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.1514em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mi>i</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P_i ( i = 0, 1, .... , n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord">....</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 为指向子树根结点的<strong>指针</strong>，且指针<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">P_{i-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8917em;vertical-align:-.2083em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2083em"><span></span></span></span></span></span></span></span></span></span> 所指子树中所有结点的关键字均小于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">K_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">P_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.13889em">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:-.1389em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span> 所指子树中所有结点的关键字均大于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">K_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8333em;vertical-align:-.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.07153em">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.3117em"><span style="top:-2.55em;margin-left:-.0715em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.15em"><span></span></span></span></span></span></span></span></span></span>。而<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 即为结点中关键字的个数。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><mo>−</mo><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mi>m</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\lceil m/2\rceil-1\leq n\leq m-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7804em;vertical-align:-.136em"></span><span class="mord">1</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.7719em;vertical-align:-.136em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p><p>由此也可以看出，有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 个关键字的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树，其插入失败的可能性有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>，即查找失败结点的个数是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>.</p><blockquote><p>B 树是<strong>平衡因子均为0</strong>的<strong>多路平衡</strong>查找树</p></blockquote><p>下图是一棵 4 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树，其中关键字为英文辅音字母，淡色部分是查找字母<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.00773em">R</span></span></span></span> 时的路径结点。</p><p><img src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main//Auto/202211161447033.png" alt="一棵B树示例"></p><h2 id="B树的高度">B树的高度</h2><p>首先声明，此处讨论的高度不包括最后一层，即不带任何信息的叶子结点/终端结点/虚拟结点 那一层。（有的教材则包括此层）</p><p>对任意一棵包含<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mspace width="1em"><mo stretchy="false">(</mo><mi>n</mi><mo>≥</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n\quad(n\geq1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:1em"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 个关键字，高度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal">h</span></span></span></span>，阶数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 的 B树：</p><ul><li>当每个结点尽最大可能地分支子树时，每个结点均有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span> 个关键字，从而分支出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 棵子树；从而关键字个数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo><mo stretchy="false">(</mo><mi>m</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><msup><mi>m</mi><mn>1</mn></msup><mo>+</mo><msup><mi>m</mi><mn>2</mn></msup><mo>+</mo><mo>⋯</mo><mo>+</mo><msup><mi>m</mi><mrow><mi>h</mi><mo>−</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo><mo>=</mo><msup><mi>m</mi><mi>h</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n\leq(m-1)\times(1+m^1+m^2+\cdots+m^{h-1})=m^h-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7719em;vertical-align:-.136em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.8974em;vertical-align:-.0833em"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.8974em;vertical-align:-.0833em"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8141em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-.25em"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8491em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.9324em;vertical-align:-.0833em"></span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8491em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>.<br>即：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>h</mi><mo>≥</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mi>m</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h\geq\log_m(n+1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8304em;vertical-align:-.136em"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.0573em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></p><ul><li>当每个结点尽最大可能地<strong>不</strong>分支子树时，因为树非空，所以第一层至少 1 个结点、第二层至少 2 个结点，此后每个结点只含有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lceil m/2\rceil-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span> 个关键字，分支出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo></mrow><annotation encoding="application/x-tex">\lceil m/2\rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span></span></span></span> 棵子树，即第三层至少有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo></mrow><annotation encoding="application/x-tex">2\lceil m/2\rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">2</span><span class="mopen">⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span></span></span></span> 个结点，以此类推，第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal">h</span></span></span></span> 层有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo stretchy="false">(</mo><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><msup><mo stretchy="false">)</mo><mrow><mi>h</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2(\lceil m/2\rceil)^{h-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-.25em"></span><span class="mord">2</span><span class="mopen">(⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8491em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> 个结点。而第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">h+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7778em;vertical-align:-.0833em"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span> 层是查找不成功的终端结点，其个数为结点数+1，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>，所以有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn><mo>≥</mo><mn>2</mn><mo stretchy="false">(</mo><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><msup><mo stretchy="false">)</mo><mrow><mi>h</mi><mo>−</mo><mn>1</mn></mrow></msup></mrow><annotation encoding="application/x-tex">n+1\geq2(\lceil m/2\rceil)^{h-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.7804em;vertical-align:-.136em"></span><span class="mord">1</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-.25em"></span><span class="mord">2</span><span class="mopen">(⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.8491em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>.<br>即：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>h</mi><mo>≤</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mrow><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo></mrow></msub><mrow><mo fence="true">(</mo><mfrac><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">h\leq\log_{\lceil m/2\rceil}\left(\frac{n+1}2\right)+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.8304em;vertical-align:-.136em"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-.95em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2809em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">⌈</span><span class="mord mathnormal mtight">m</span><span class="mord mtight">/2</span><span class="mclose mtight">⌉</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4191em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span></span></p><p>🔔综上，已知关键字个数为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 的情况下，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树的高度的取值范围是：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mi>m</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>≤</mo><mi>h</mi><mo>≤</mo><msub><mrow><mi>log</mi><mo>⁡</mo></mrow><mrow><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo></mrow></msub><mrow><mo fence="true">(</mo><mfrac><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></mfrac><mo fence="true">)</mo></mrow><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\log_m(n+1)\leq h\leq\log_{\lceil m/2\rceil}\left(\frac{n+1}2\right)+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.0573em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.2441em"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.8304em;vertical-align:-.136em"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:2.4em;vertical-align:-.95em"></span><span class="mop"><span class="mop">lo<span style="margin-right:.01389em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:.2809em"><span style="top:-2.4559em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">⌈</span><span class="mord mathnormal mtight">m</span><span class="mord mtight">/2</span><span class="mclose mtight">⌉</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.4191em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0"><span class="delimsizing size3">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em"><span style="top:-2.314em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:.04em"></span></span><span style="top:-3.677em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:.686em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0"><span class="delimsizing size3">)</span></span></span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span></span></p><hr><p>此外，根据类似的推论，我们还有已知高度情况下对结点数、关键字个数的最值讨论：</p><blockquote><p>♾️ 一棵含有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 个非叶结点的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树中，包含的关键字个数至少为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">(n-1)(\lceil m/2\rceil-1)+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span></p></blockquote><p>【推导】按每个结点包含的最少的关键字个数计算，根结点至少1个关键字，剩下的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span> 个非叶结点至少包含<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lceil m/2\rceil-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span> 个，故一共是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">(n-1)(\lceil m/2\rceil-1)+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span> 个。</p><h2 id="B树的插入">B树的插入</h2><p>B树的插入主要有两个步骤：定位和插入。</p><p>对插入关键字的定位过程其实也就是其查找过程。包含两个基本操作：</p><ol><li>在 B 树中找到所属结点</li><li>在结点内查找关键字，若找到则查找成功；若没找到，通过其区间范围得到指向下一棵子树（子结点）的指针信息，并转到第一步，直到指针为空（查找到了虚拟结点）则查找失败</li></ol><p>关键字的定位则对应着查找失败的情况，通过查找失败的信息可以得到应该将此关键字插入的<strong>最底层非终端结点</strong>的插入位置。</p><p>接下来是插入过程。</p><ol><li>如果树为空，则分配根结点并插入关键字。</li><li>如果树不为空，且插入到插入位置后，满足B树定义，即结点内关键字个数不超过<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">m-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span>，则插入成功，结束。</li><li>如果插入到结点后使得其“溢出”，则在<strong>中位数</strong>处进行左右<strong>分裂</strong>；</li><li>将中位数插入原结点的父结点内，即向上提升中间字；然后将左部分设为左子级，将右部分设为右子级。</li><li>如果上述操作导致父结点也“溢出”，则进行对父结点进行<strong>分裂</strong>，重复上述过程，若一直上推到根结点，则B树高度+1。</li></ol><p>下面是一个<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">m=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">3</span></span></span></span> 的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树，依次插入：8、9、10、11、15、16、17、18、20、23 的过程示例。</p><p><img src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main//Auto/B_Tree_Insert.png" alt="B树插入示例"></p><h2 id="B树的删除">B树的删除</h2><p>与 B 树的插入相对，若删除结点后使得结点内的关键字个数低于最低要求<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\lceil m/2\rceil-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span> 则会出现“下溢”，为此需要进行适当调整。</p><p>我们先对各自情况进行梳理。</p><p><strong>情况一：待删关键字位于叶中</strong>（此处的叶并非最底层的终端虚拟结点，而是有关键字的最后一层结点）</p><ol><li>若删除之并未造成“下溢”，则直接删除；</li><li>若删除之造成“下溢”，且向兄弟结点中借一个关键字不会造成兄弟结点“下溢”的情况下，进行<strong>父子换位法</strong>：左兄弟的最右关键字上升到父结点，父结点中相邻关键字下降到被删除的结点中以维持平衡。（或者右兄弟的最左关键字上升）</li><li>若兄弟结点“<strong>不够借</strong>”，则将当前结点与兄弟结点进行合并，连接两个兄弟结点的父结点的关键字也需下降和它们合并到一起。</li><li>若因为上述第三步导致父结点的关键字个数不符合B树要求，则对父结点递归进行调整，直到满足 B树要求为止。</li></ol><p><img src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main//Auto/202211161512907.jpg" alt="B树的删除情况演示"></p><p><strong>情况二：待删关键字位于非终端结点</strong></p><p>被删关键字<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6944em"></span><span class="mord mathnormal" style="margin-right:.03148em">k</span></span></span></span> 在非终端结点上时，可以将其前驱或后继<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">k&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7519em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.7519em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 代替它现在的位置，然后在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>k</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mrow><annotation encoding="application/x-tex">k&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7519em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:.03148em">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:.7519em"><span style="top:-3.063em;margin-right:.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span> 所处的结点中删除之。此时问题转化为了 <strong>情况一</strong>。</p><h2 id="B-树的基本概念">B+树的基本概念</h2><div class="note info simple"><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>+</mo></mrow><annotation encoding="application/x-tex">B+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mord">+</span></span></span></span>树是应文件系统所需而产生的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树的变形，比起 B 树更加<strong>适用于实际的操作系统文件索引和数据库索引</strong>，因为其磁盘读写代价更低，查找效率更加稳定。</p></div><p>一棵<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶的<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>+</mo></mrow><annotation encoding="application/x-tex">B+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mord">+</span></span></span></span> 树需满足下列条件：</p><ol><li>每个分支结点最多有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 棵子树</li><li>非叶根结点至少有两棵子树，其他每个分支结点至少有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo></mrow><annotation encoding="application/x-tex">\lceil m/2\rceil</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span></span></span></span> 棵子树（要追求“绝对平衡”，即所有子树高度要相同）</li><li><strong>结点的子树个数与关键字个数相等</strong>（B树中关键字比子树少一个）</li><li>所有叶结点包含全部关键字及指向相应记录的指针，叶结点中将关键字按大小顺序排列，并且相邻叶结点按大小顺序<strong>相互链接</strong>起来（支持顺序查找）</li><li>所有分支结点中<strong>仅</strong>包含它的各个子结点中关键字的<strong>最大值</strong>及指向其子结点的指针</li></ol><p><img src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main//Auto/B+Tree.png" alt="B+树示例"></p><p><strong>解释：</strong> 上面图示中的索引 【15、56】 和 【 3、9、15】 以及 索引 【35、42、56】 是存在不同的磁盘块里面的。<br>每查找一次结点都要进行一次<strong>读磁盘</strong>的操作，直到找到最下面的叶子结点，每次读取磁盘块都是一次慢速操作，所以要让树尽可能矮。一个磁盘块只有 1KB 大小，为了让一个磁盘块尽可能包含索引信息， B+树 要求非叶子结点只包含索引和地址，不包含记录。</p><h2 id="B树与B-树的比较">B树与B+树的比较</h2><h3 id="关键字个数">关键字个数</h3><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>+</mo></mrow><annotation encoding="application/x-tex">B+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mord">+</span></span></span></span> 树 结点中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 个关键字对应<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 棵子树<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树 结点中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">n</span></span></span></span> 个关键字对应<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6667em;vertical-align:-.0833em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.6444em"></span><span class="mord">1</span></span></span></span> 棵子树</p></blockquote><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>+</mo></mrow><annotation encoding="application/x-tex">B+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mord">+</span></span></span></span>树 根结点的关键字数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">n \in [1, m]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span>，其他结点的关键字数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>∈</mo><mo stretchy="false">[</mo><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">n \in [\lceil m/2\rceil, m]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">m</span><span class="mclose">]</span></span></span></span><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span>树 根结点的关键字数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>∈</mo><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mi>m</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">n \in [1, m - 1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span>，其他结点的关键字数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>∈</mo><mo stretchy="false">[</mo><mo stretchy="false">⌈</mo><mi>m</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">⌉</mo><mo>−</mo><mn>1</mn><mo separator="true">,</mo><mi>m</mi><mo>−</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">n \in [\lceil m/2\rceil-1, m-1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.5782em;vertical-align:-.0391em"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:.2778em"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mopen">[⌈</span><span class="mord mathnormal">m</span><span class="mord">/2</span><span class="mclose">⌉</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:.8389em;vertical-align:-.1944em"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:.1667em"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-.25em"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p></blockquote><h3 id="关键字重复">关键字重复</h3><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>+</mo></mrow><annotation encoding="application/x-tex">B+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mord">+</span></span></span></span>树 中，<strong>叶结点包含全部关键字</strong>，<strong>非叶结点中出现过的关键字也会出现在叶结点中</strong><br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树 中，各结点中包含的关键字是不重复的</p></blockquote><h3 id="存储地址">存储地址</h3><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>+</mo></mrow><annotation encoding="application/x-tex">B+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mord">+</span></span></span></span>树 中，叶结点包含信息，所有非叶结点仅起索引作用，非叶结点中的每个索引项只含有对应子树的最大关键字和指向该子树的指针，不含有该关键字对应记录的存储地址<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树 的结点中都包含了关键字对应的记录的存储地址</p></blockquote><h3 id="顺序查找">顺序查找</h3><blockquote><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mo>+</mo></mrow><annotation encoding="application/x-tex">B+</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.7667em;vertical-align:-.0833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span><span class="mord">+</span></span></span></span>树 中，<strong>叶结点包含全部关键字，可以顺序查找</strong>，同时也支持随机查找<br><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.4306em"></span><span class="mord mathnormal">m</span></span></span></span> 阶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.6833em"></span><span class="mord mathnormal" style="margin-right:.05017em">B</span></span></span></span> 树 <strong>只能随机查找</strong></p></blockquote></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>全都是树 BST、AVL、RB、B、B+|数据结构Ⅲ.2</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://qslie.top/posts/31d7c1e5/">https://qslie.top/posts/31d7c1e5/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>Slie</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2022-11-09</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2024-03-11</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">算法</a><a class="post-meta__tags" href="/tags/%E8%AF%AD%E8%A8%80/">语言</a><a class="post-meta__tags" href="/tags/C/">C++</a><a class="post-meta__tags" href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/">离散数学</a></div><div class="post_share"><div class="social-share" data-image="http://img.49you.com/20170303/58b8d6f32d651.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="/pluginsSrc/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="/pluginsSrc/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload='this.media="all"'><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">打赏</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/img/wechat.png"></a><div class="post-qr-code-desc"></div></li><li class="reward-item"><a href="/img/alipay.png" target="_blank"><img class="post-qr-code-img" src="/img/alipay.png"></a><div class="post-qr-code-desc"></div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.16/audio/coin.mp3"></audio><script defer src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/2f8f4b99/" title="拓扑排序、最短路径、二部图、最大团| 算法之于图"><img class="cover" src="https://z3.ax1x.com/2021/04/17/c5P76I.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">拓扑排序、最短路径、二部图、最大团| 算法之于图</div></div></a></div><div class="next-post pull-right"><a href="/posts/3572880e/" title="字符串与模式匹配|数据结构Ⅱ.2"><img class="cover" src="https://gitee.com/sliewdy/ImageURL-slie/raw/master/imagesNoT/QQ%E5%9B%BE%E7%89%8720210414005713.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">字符串与模式匹配|数据结构Ⅱ.2</div></div></a></div></nav><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://s1.ax1x.com/2022/04/09/Likong.png" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Slie</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">182</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">98</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">45</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/sliefamily"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://qm.qq.com/cgi-bin/qm/qr?k=1hPHFQqPhpkbBVYbFjRC4q8YQ-A72EFL&amp;noverify=0" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="https://github.com/SlieFamily" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:sliewdyinwhite@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">秘密基地被发现啦！QAQ</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">二叉排序树|Binary Sort&#x2F;Search Tree</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E4%B8%8E%E6%80%A7%E8%B4%A8"><span class="toc-number">1.1.</span> <span class="toc-text">定义与性质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BST%E7%9A%84%E6%9F%A5%E6%89%BE"><span class="toc-number">1.2.</span> <span class="toc-text">BST的查找</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BST%E7%9A%84%E6%8F%92%E5%85%A5"><span class="toc-number">1.3.</span> <span class="toc-text">BST的插入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BST%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">1.4.</span> <span class="toc-text">BST的创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BST%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">1.5.</span> <span class="toc-text">BST的删除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E4%BB%BF%E7%9C%9F"><span class="toc-number">1.6.</span> <span class="toc-text">编程仿真</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%9E%B6%E6%9E%84"><span class="toc-number">1.6.0.1.</span> <span class="toc-text">文件架构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E5%87%BD%E6%95%B0"><span class="toc-number">1.6.0.2.</span> <span class="toc-text">主函数</span></a></li></ol></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">平衡二叉树|Balanced Binary Tree</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E4%B8%8E%E6%80%A7%E8%B4%A8-2"><span class="toc-number">2.1.</span> <span class="toc-text">定义与性质</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B3%E8%A1%A1%E5%9B%A0%E5%AD%90-Balance-Factor-bf"><span class="toc-number">2.1.1.</span> <span class="toc-text">平衡因子 |Balance Factor, bf</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%80%A7%E8%B4%A8"><span class="toc-number">2.1.2.</span> <span class="toc-text">相关性质</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AVL%E7%9A%84%E6%8F%92%E5%85%A5"><span class="toc-number">2.2.</span> <span class="toc-text">AVL的插入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#LL-RR-%E5%9E%8B"><span class="toc-number">2.2.1.</span> <span class="toc-text">LL &amp; RR 型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LR-RL-%E5%9E%8B"><span class="toc-number">2.2.2.</span> <span class="toc-text">LR &amp; RL 型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AVL%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">2.3.</span> <span class="toc-text">AVL的删除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AVL%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">2.4.</span> <span class="toc-text">AVL的创建</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">红黑树|Red–Black Tree</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%92%8C%E6%80%A7%E8%B4%A8"><span class="toc-number">3.1.</span> <span class="toc-text">定义和性质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RB%E6%A0%91%E7%9A%84%E6%8F%92%E5%85%A5"><span class="toc-number">3.2.</span> <span class="toc-text">RB树的插入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RB%E6%A0%91%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">3.3.</span> <span class="toc-text">RB树的删除</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">B &amp; B+树|B-Tree &amp; B+Tree</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#B%E6%A0%91%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-number">4.1.</span> <span class="toc-text">B树的定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B%E6%A0%91%E7%9A%84%E9%AB%98%E5%BA%A6"><span class="toc-number">4.2.</span> <span class="toc-text">B树的高度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B%E6%A0%91%E7%9A%84%E6%8F%92%E5%85%A5"><span class="toc-number">4.3.</span> <span class="toc-text">B树的插入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B%E6%A0%91%E7%9A%84%E5%88%A0%E9%99%A4"><span class="toc-number">4.4.</span> <span class="toc-text">B树的删除</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B-%E6%A0%91%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">4.5.</span> <span class="toc-text">B+树的基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#B%E6%A0%91%E4%B8%8EB-%E6%A0%91%E7%9A%84%E6%AF%94%E8%BE%83"><span class="toc-number">4.6.</span> <span class="toc-text">B树与B+树的比较</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%AA%E6%95%B0"><span class="toc-number">4.6.1.</span> <span class="toc-text">关键字个数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E9%87%8D%E5%A4%8D"><span class="toc-number">4.6.2.</span> <span class="toc-text">关键字重复</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E5%9C%B0%E5%9D%80"><span class="toc-number">4.6.3.</span> <span class="toc-text">存储地址</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E6%9F%A5%E6%89%BE"><span class="toc-number">4.6.4.</span> <span class="toc-text">顺序查找</span></a></li></ol></li></ol></li></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/d3d469f8/" title="Docker - 一步到位的应用部署与上线"><img src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main//Auto/docker.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Docker - 一步到位的应用部署与上线"></a><div class="content"><a class="title" href="/posts/d3d469f8/" title="Docker - 一步到位的应用部署与上线">Docker - 一步到位的应用部署与上线</a><time datetime="2024-03-05T07:11:45.000Z" title="发表于 2024-03-05 15:11:45">2024-03-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/c1bb1ae1/" title="GFS - 谷歌的分布式文件存储系统"><img src="http://img.49you.com/20170303/58b8d6f32d651.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="GFS - 谷歌的分布式文件存储系统"></a><div class="content"><a class="title" href="/posts/c1bb1ae1/" title="GFS - 谷歌的分布式文件存储系统">GFS - 谷歌的分布式文件存储系统</a><time datetime="2024-03-05T04:04:07.000Z" title="发表于 2024-03-05 12:04:07">2024-03-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/f21b6bc8/" title="HuskyLab Servers 0x519 操作指南【自用】"><img src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main//Auto/husklab_bg.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="HuskyLab Servers 0x519 操作指南【自用】"></a><div class="content"><a class="title" href="/posts/f21b6bc8/" title="HuskyLab Servers 0x519 操作指南【自用】">HuskyLab Servers 0x519 操作指南【自用】</a><time datetime="2024-03-04T13:29:31.000Z" title="发表于 2024-03-04 21:29:31">2024-03-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/f7dae821/" title="【快速入门】集群资源管理调度系统 - Slurm"><img src="https://gitee.com/sliewdy/ImageURL-slie/raw/master/imagesNoT/QQ%E5%9B%BE%E7%89%8720210414005713.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【快速入门】集群资源管理调度系统 - Slurm"></a><div class="content"><a class="title" href="/posts/f7dae821/" title="【快速入门】集群资源管理调度系统 - Slurm">【快速入门】集群资源管理调度系统 - Slurm</a><time datetime="2024-03-04T12:50:38.000Z" title="发表于 2024-03-04 20:50:38">2024-03-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/8cb817a9/" title="【最优化】Levenberg-Marquardt 算法"><img src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main//Auto/202401051550627.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="【最优化】Levenberg-Marquardt 算法"></a><div class="content"><a class="title" href="/posts/8cb817a9/" title="【最优化】Levenberg-Marquardt 算法">【最优化】Levenberg-Marquardt 算法</a><time datetime="2023-12-22T03:07:39.000Z" title="发表于 2023-12-22 11:07:39">2023-12-22</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url('http://img.49you.com/20170303/58b8d6f32d651.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Slie</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题</span> <a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Welcome to Chaos World!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/pluginsSrc/medium-zoom/dist/medium-zoom.min.js"></script><script src="/pluginsSrc/instant.page/instantpage.js" type="module"></script><script src="/pluginsSrc/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("/pluginsSrc/pangu/dist/browser/pangu.min.js").then((()=>{pangu.autoSpacingPage()}))}function panguInit(){GLOBAL_CONFIG_SITE.isPost&&panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><div class="js-pjax"><link rel="stylesheet" href="/pluginsSrc/katex/dist/katex.min.css"><script src="/pluginsSrc/katex/dist/contrib/copy-tex.min.js"></script><script>document.querySelectorAll("#article-container span.katex-display").forEach((a=>{btf.wrap(a,"div",{class:"katex-wrap"})}))</script><script>(()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");if(0===e.length)return;const t=()=>{window.loadMermaid=!0;const t="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";Array.from(e).forEach(((e,n)=>{const d=e.firstElementChild,r="mermaid-"+n,a="%%{init:{ 'theme':'"+t+"'}}%%\n"+d.textContent,i=mermaid.render(r,a);var m;"string"==typeof i?(m=i,d.insertAdjacentHTML("afterend",m)):i.then((({svg:e})=>{d.insertAdjacentHTML("afterend",e)}))}))},n=()=>{window.loadMermaid?t():getScript("/pluginsSrc/mermaid/dist/mermaid.min.js").then(t)};btf.addModeChange("mermaid",t),window.pjax?n():document.addEventListener("DOMContentLoaded",n)})()</script><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.qslie.top/",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const t=document.getElementById("twikoo-count");t&&twikoo.getCommentsCount({envId:"https://twikoo.qslie.top/",region:"",urls:[window.location.pathname],includeReply:!1}).then((function(o){t.textContent=o[0].count})).catch((function(t){console.error(t)}))})()},o=()=>{"object"!=typeof twikoo?getScript("/pluginsSrc/twikoo/dist/twikoo.all.min.js").then(t):setTimeout(t,0)};btf.loadComment(document.getElementById("twikoo-wrap"),o)})()</script></div><script async src="/js/diytitle.js"></script><script async src="//at.alicdn.com/t/font_2264842_3izu8i5eoc2.js"></script><script async src="/js/diytitle.js"></script><script data-pjax defer src="/js/fixed_comment.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="/pluginsSrc/butterfly-extsrc/dist/fireworks.min.js"></script><script id="canvas_nest" defer color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="/pluginsSrc/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div><hr><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div><script data-pjax>if(document.getElementById("recent-posts")&&"/"===location.pathname){var parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://qslie.top/tags/算法/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 算法相关，编程实现 (60)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://qslie.top/tags/故事/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 杂谈日志，光影记录 (6)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://qslie.top/tags/日常/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 记忆碎片，梦境显影 (36)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://qslie.top/tags/机器学习/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💻 机器学习，数学规划 (35)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://qslie.top/tags" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';console.log("已挂载magnet"),parent.insertAdjacentHTML("afterbegin",child)}</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(50% - 5px);background:#f2f2f2;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:#b30070}.magnet_link_more{color:#555}.magnet_link{color:#000}.magnet_link:hover{color:#fff}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style><script data-pjax>function butterfly_swiper_injector_config(){var s=document.getElementById("recent-posts");console.log("已挂载butterfly_swiper"),s.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/4f5fd499/" alt=""><img width="48" height="48" src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main//Auto/20231030204417.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-03-11</span><a class="blog-slider__title" href="posts/4f5fd499/" alt="">Deep Neural Net | 多层感知机与神经网络入门</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="posts/4f5fd499/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/9a95977b/" alt=""><img width="48" height="48" src="math-cover.jfif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-03-11</span><a class="blog-slider__title" href="posts/9a95977b/" alt="">SLie的&quot;数学基础&quot;集装箱|Perhaps.Ver1.04</a><div class="blog-slider__text">好了，你已经学会1+1=2了，下面来证明一下广义黎曼猜想吧~</div><a class="blog-slider__button" href="posts/9a95977b/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/4ea9ab3c/" alt=""><img width="48" height="48" src="https://jsd.onmicrosoft.cn/gh/SlieFamily/TempImages@main/Auto/202202232045587.jpeg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-03-11</span><a class="blog-slider__title" href="posts/4ea9ab3c/" alt="">算法分析与设计 &amp; 本站算法综述</a><div class="blog-slider__text">本文罗列了常见的经典问题和算法，以及主要的算法分析方法和设计方法</div><a class="blog-slider__button" href="posts/4ea9ab3c/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="posts/5ebaa4d9/" alt=""><img width="48" height="48" src="https://gitee.com/sliewdy/ImageURL-slie/raw/master/imagesNoT/QQ%E5%9B%BE%E7%89%8720210414005713.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-03-11</span><a class="blog-slider__title" href="posts/5ebaa4d9/" alt="">捣鼓程序时的各种【踩坑】【报错】全收录</a><div class="blog-slider__text">配置环境、安装库包等网上冲浪时遇见到的各式各样奇奇怪怪的Warning和Error，以及各种治标不治本或者又治标又治本的解决方案全记录（个人向）</div><a class="blog-slider__button" href="posts/5ebaa4d9/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="/",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script></body></html>